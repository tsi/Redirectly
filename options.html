<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirectly</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="header-content">
        <div class="header-logo">
          <img src="icons/icon48.png" alt="Redirectly Logo">
          <h1>Redirectly</h1>
        </div>
      </div>
      <div class="header-actions">
        <div class="header-toggle">
          <label class="toggle-switch">
            <input type="checkbox" id="global-enabled-toggle">
            <span class="toggle-slider"></span>
          </label>
          <span class="toggle-text">Enable</span>
        </div>
        <button id="export" class="btn btn-primary">Export</button>
        <button id="import" class="btn btn-primary">Import</button>
        <input type="file" id="importFile" class="file-input" accept="application/json">
      </div>
    </div>

    <div class="rules-container" id="rules">
      <!-- Rules will be added here dynamically -->
    </div>

    <div class="bottom-actions">
      <button id="add" class="btn btn-primary">+ Add Rule</button>
    </div>
  </div>

  <!-- SVG Icons -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="icon-edit" viewBox="0 0 24 24">
      <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
    </symbol>
    <symbol id="icon-delete" viewBox="0 0 24 24">
      <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
    </symbol>
    <symbol id="icon-copy" viewBox="0 0 24 24">
      <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
    </symbol>
    <symbol id="icon-expand" viewBox="0 0 24 24">
      <path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/>
    </symbol>
  </svg>

  <!-- Rule Template -->
  <template id="rule-template">
    <div class="rule collapsed">
      <div class="rule-header">
        <div class="rule-title">
          <span class="rule-title-text">Untitled Rule</span>
          <input class="rule-title-input" type="text" placeholder="Enter rule name">
        </div>

        <div class="rule-toggle">
          <label class="toggle-switch">
            <input type="checkbox" class="rule-enabled-toggle">
            <span class="toggle-slider"></span>
          </label>
        </div>

        <div class="rule-actions">
          <button class="btn btn-outline btn-icon edit-button" title="Edit title">
            <svg class="icon"><use href="#icon-edit"></use></svg>
          </button>
          <button class="btn btn-outline btn-icon duplicate-button" title="Duplicate rule">
            <svg class="icon"><use href="#icon-copy"></use></svg>
          </button>
          <button class="btn btn-outline btn-icon delete-button" title="Delete rule">
            <svg class="icon"><use href="#icon-delete"></use></svg>
          </button>
        </div>
      </div>

      <div class="rule-content">
        <div class="form-group source-group">
          <label>Source Pattern (*):</label>
          <input type="text" class="source-input" placeholder="https://source.com/*">
        </div>

        <div class="type-target-container" style="display: flex; gap: 16px;">
          <div class="form-group type-group" style="width: 30%;">
            <label>Rule Type:</label>
            <select class="type-select">
              <option value="redirect">Redirect</option>
              <option value="setCookie">Set Cookie</option>
            </select>
          </div>

          <div class="form-group target-group" style="width: 70%; flex-direction: column;">
            <label>Target URL:</label>
            <input type="text" class="target-input" placeholder="https://destination.com/*">
          </div>

          <div class="form-group cookie-group" style="width: 70%; flex-direction: column; display: none;">
            <label>Cookie Value:</label>
            <input type="text" class="cookie-input" placeholder="version=1.2.3-rc.4">
          </div>
        </div>
      </div>
    </div>
  </template>

  <script src="options.js"></script>
</body>
</html>
